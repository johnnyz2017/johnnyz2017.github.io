<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Demo Page</title>
    <meta name="description" content="360 with buttons â€” A-Frame">
    <script src="js/aframe.js"></script>
    <!-- <script src="js/aframe-daydream-controller-component.min.js"></script> -->
    <!-- <script src="https://npmcdn.com/aframe-animation-component@3.0.1"></script>
    <script src="https://npmcdn.com/aframe-event-set-component@3.0.1"></script>
    <script src="https://npmcdn.com/aframe-layout-component@3.0.1"></script>
    <script src="https://npmcdn.com/aframe-template-component@3.0.1"></script>
    <script src="js/set-image.js"></script> -->
    <!-- <script src="js/update-raycaster.js"></script> -->
  </head>
  <body>
    <a-scene vr-mode-ui="enabled: true">
      <a-assets>
        <a-mixin id="image" geometry="height: 2; width: 2"></a-mixin>

        <img id="skymap" src="img/vr/bg.jpg">

        <img id="01" crossorigin="anonymous" src="img/1.svg" crossorigin="anonymous">>
        <img id="02" crossorigin="anonymous" src="img/2.svg" crossorigin="anonymous">>
        <img id="03" crossorigin="anonymous" src="img/3.svg">
        <img id="04" crossorigin="anonymous" src="img/4.svg">
        <img id="05" crossorigin="anonymous" src="img/5.svg">
        <img id="06" crossorigin="anonymous" src="img/6.svg">
        <img id="07" crossorigin="anonymous" src="img/7.svg">
        <img id="08" crossorigin="anonymous" src="img/8.svg">
        <img id="09" crossorigin="anonymous" src="img/9.svg">
        <img id="10" crossorigin="anonymous" src="img/21.svg">
        <img id="resetimg" crossorigin="anonymous" src="img/reset.png">

        <img id="m0" crossorigin="anonymous" src="img/vr/vr.png">
        <img id="mr1" crossorigin="anonymous" src="img/vr/right1.png">
        <img id="mr2" crossorigin="anonymous" src="img/vr/right2.png">
        <img id="mr3" crossorigin="anonymous" src="img/vr/right3.png">
        <img id="mr4" crossorigin="anonymous" src="img/vr/right4.png">


        <img id="rr1" crossorigin="anonymous" src="img/vr/edu01.jpg">
        <img id="rr2" crossorigin="anonymous" src="img/vr/edu02.jpg">
        <img id="rr3" crossorigin="anonymous" src="img/vr/edu03.jpg">

        <img id="arrowup" crossorigin="anonymous" src="img/vr/top.png">
        <img id="arrowdown" crossorigin="anonymous" src="img/vr/down.png">

        <img id="videoicon" crossorigin="anonymous" src="img/vr/video.png">

      </a-assets>

      <a-entity id="camera" camera position="0 0 0" look-controls="enabled: true" rotation="0 0 0" cursor-visible="enabled: true" standing="true">
         <!--a-entity id="cursor" cursor="fuse: true;  maxDistance: 100; timeout: 200" material="color: aquamarine" position="0 0 -0.69" raycaster=""></a-entity-->
         <a-cursor></a-cursor>
         <a-animation attribute="rotation" begin="resetpose" to="0 0 0" easing="linear" dur="100"></a-animation>
      </a-entity>

      <a-sky src="#skymap" rotation="0 -90 0"></a-sky>


      <a-entity id="menus_middle" scale="0.6 0.6 0.6" rotation="0 0 0" color="green" position="0 0 -4">
        <a-image mixin="image" src="#m0" scale="3 2 1" position="-1.5 0 0" look-at="[camera]">
        </a-image>
        <a-image mixin="image" src="#mr1" scale="1 0.48 0.5" position="2.6 1.5 0" look-at="[camera]">
          <a-animation attribute="rotation" begin="click" to="0 360 0"></a-animation>
        </a-image>
        <a-image mixin="image" src="#mr2" scale="1 0.48 0.5" position="2.6 0.5 0" look-at="[camera]">
          <a-animation attribute="rotation" begin="click" to="0 360 0"></a-animation>
        </a-image>

        <a-image mixin="image" src="#mr3" scale="1 0.48 0.5" position="2.6 -0.5 0" look-at="[camera]">
          <a-animation attribute="rotation" begin="click" to="0 360 0"></a-animation>
        </a-image>
        <a-image mixin="image" src="#mr4" scale="1 0.48 0.5" position="2.6 -1.5 0" look-at="[camera]">
          <a-animation attribute="rotation" begin="click" to="0 360 0"></a-animation>
        </a-image>
      </a-entity>

      <a-entity id="menus_left" scale="0.6 0.6 0.6" rotation="0 60 0" color="green" position="-4 0 -2">
        <a-image id="v0" mixin="image" src="#videoicon" scale="0.5 0.5 0.5" position="-2 2 0">
        </a-image>
        <a-image id="v1" mixin="image" src="#videoicon" scale="0.5 0.5 0.5" position="0 2 0">
        </a-image>
        <a-image id="v2" mixin="image" src="#videoicon" scale="0.5 0.5 0.5" position="2 2 0">
        </a-image>

        <a-image id="v3" mixin="image" src="#videoicon" scale="0.5 0.5 0.5" position="-2 0 0">
        </a-image>
        <a-image id="v4" mixin="image" src="#videoicon" scale="0.5 0.5 0.5" position="0 0 0">
        </a-image>
        <a-image id="v5" mixin="image" src="#videoicon" scale="0.5 0.5 0.5" position="2 0 0">
        </a-image>

        <a-image id="v6" mixin="image" src="#videoicon" scale="0.5 0.5 0.5" position="-2 -2 0">
        </a-image>
        <a-image id="v7" mixin="image" src="#videoicon" scale="0.5 0.5 0.5" position="0 -2 0">
        </a-image>
        <a-image id="v8" mixin="image" src="#videoicon" scale="0.5 0.5 0.5" position="2 -2 0">
        </a-image>
      </a-entity>

      <a-entity id="menus_right" scale="0.6 0.6 0.6" rotation="0 -60 0" backgroudcolor="yellow" color="green" position="3.46 0 -2">

        <a-image id="aup" mixin="image" src="#arrowup" scale="0.8 0.3 0.5" position="-1.5 1.7 0" look-at="[camera]">
          <a-animation attribute="rotation" begin="click" to="0 360 0"></a-animation>
        </a-image>

        <a-image id="rl1" mixin="image" src="#rr1" scale="0.8 0.65 0.5" position="-1.5 0.7 0" look-at="[camera]">
          <!-- <a-animation attribute="rotation" begin="click" to="0 360 0"></a-animation> -->
        </a-image>

        <a-image id="rl2" mixin="image" src="#rr2" scale="0.8 0.65 0.5" position="-1.5 -0.7 0" look-at="[camera]">
          <!-- <a-animation attribute="rotation" begin="click" to="0 360 0"></a-animation> -->
        </a-image>

        <a-image id="rl3" mixin="image" src="#rr3" scale="0.8 0.65 0.5" position="-1.5 -2.1 0" visible="false" look-at="[camera]">
          <!-- <a-animation attribute="rotation" begin="click" to="0 360 0"></a-animation> -->
        </a-image>

        <a-image id="adown" mixin="image" src="#arrowdown" scale="0.8 0.3 0.5" position="-1.5 -1.7 0" look-at="[camera]">
          <a-animation attribute="rotation" begin="click" to="0 360 0"></a-animation>
        </a-image>

        <a-image id="rm" mixin="image" src="#rr1" scale="3 2 1" position="2.5 0 0" look-at="[camera]">
          <!-- <a-animation attribute="src" begin="resetrl1" to="#rr1"></a-animation>
          <a-animation attribute="src" begin="resetrl2" to="#rr2"></a-animation> -->
        </a-image>
      </a-entity>

      <a-light type="point" color="#94c6ff" distance="15" position="0 0 -12">
        <a-animation attribute="intensity" from="0" to="2" delay="750" dur="500" fill="both"></a-animation>
      </a-light>
      <a-light type="point" color="#94c6ff" distance="17" position="0 0 -6">
        <a-animation attribute="intensity" from="0" to="1" delay="500" dur="500" fill="both"></a-animation>
      </a-light>
      <a-light type="ambient" color="#4f6487" ></a-light>

      <a-entity id="resetentity" position="0 0 4" look-at="[camera]">
        <a-image id="reset" src="#resetimg" position="0 0 0">
        </a-image>
      </a-entity>

    </a-scene>



    <script type="text/javascript">
      var cam = document.querySelector('#camera');

      var rm = document.querySelector('#rm');
      var rl1 = document.querySelector('#rl1');
      var rl2 = document.querySelector('#rl2');
      var rl3 = document.querySelector('#rl3');
      var aup = document.querySelector('#aup');
      var adown = document.querySelector('#adown');




      rl1.addEventListener('click', function () {
        rm.setAttribute('src', '#rr1');
      });
      rl2.addEventListener('click', function () {
        rm.setAttribute('src', '#rr2');
      });
      rl3.addEventListener('click', function () {
        rm.setAttribute('src', '#rr3');
      });

      aup.addEventListener('click', function () {
        rl1.setAttribute('position', '-1.5 2.1 0');
        rl1.setAttribute('visible', "false");

        rl2.setAttribute('position', '-1.5 0.7 0');

        rl3.setAttribute('position', '-1.5 -0.7 0');
        rl3.setAttribute('visible', "true");
      });

      adown.addEventListener('click', function () {
        rl1.setAttribute('position', '-1.5 0.7 0');
        rl1.setAttribute('visible', "true");

        rl2.setAttribute('position', '-1.5 -0.7 0');

        rl3.setAttribute('position', '-1.5 -2.1 0');
        rl3.setAttribute('visible', "false");
      });

      document.querySelector('#reset').addEventListener('click', function () {

        var vrdisplay = cam.components["look-controls"].controls.getVRDisplay();
        if(vrdisplay == undefined){
          cam.emit('resetpose');
        }
        else {
          vrdisplay.resetPose();
        }
      });

      document.addEventListener("keyup", function(){
        document.querySelector('#camera').emit('resetpose');
      }, false);


      document.querySelector('#v0').addEventListener('click', function(){
        window.location.replace('videoplayer.html');
      });
      document.querySelector('#v1').addEventListener('click', function(){
        window.location.replace('videoplayer.html');
      });
      document.querySelector('#v2').addEventListener('click', function(){
        window.location.replace('videoplayer.html');
      });
      document.querySelector('#v3').addEventListener('click', function(){
        window.location.replace('videoplayer.html');
      });
      document.querySelector('#v4').addEventListener('click', function(){
        window.location.replace('videoplayer.html');
      });
      document.querySelector('#v5').addEventListener('click', function(){
        window.location.replace('videoplayer.html');
      });
      document.querySelector('#v6').addEventListener('click', function(){
        window.location.replace('videoplayer.html');
      });
      document.querySelector('#v7').addEventListener('click', function(){
        window.location.replace('videoplayer.html');
      });
      document.querySelector('#v8').addEventListener('click', function(){
        window.location.replace('videoplayer.html');
      });

    </script>

    <script>
     (function () {
         // switch to stereoscopic mode directly on page load, this needs to be after the a-scene loads.
         var scene = document.querySelector('a-scene');
         if (scene.hasLoaded) {
             scene.enterVR();
         } else {
             scene.addEventListener('loaded', function () {
                 setTimeout(function () {
                     scene.enterVR();
                 }, 1000);
             });
         };
     })();
    </script>

  </body>
</html>
